<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Space Invaders - Unblocked Games</title>
<style>
  body{margin:0;font-family:Arial;background:#041323;color:#fff;display:flex;flex-direction:column;min-height:100vh}
  header{padding:14px;text-align:center}
  main{flex:1;display:flex;flex-direction:column;align-items:center;gap:10px;padding:12px}
  canvas{background:linear-gradient(#001,#033);border-radius:8px;max-width:100%;height:auto}
  .controls{display:flex;gap:8px}
  button,a.button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff;padding:8px 10px;border-radius:8px;text-decoration:none}
  footer{padding:12px;text-align:center;color:#9aa3a9}
</style>
</head>
<body>
<header><h1>ðŸ‘¾ Space Invaders</h1></header>
<main>
  <div class="controls">Arrows to move â€¢ Space to shoot</div>
  <canvas id="c" width="900" height="420"></canvas>
  <div class="controls"><button id="restart">Restart</button><a class="button" href="../index.html">Back to menu</a></div>
</main>
<footer>Lightweight Invaders.</footer>

<script>
(()=> {
  const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
  const ship = {x:420,y:360,w:60,h:12};
  let bullets = [], invaders = [], invRows = 3, invCols = 8, invDir=1;
  for(let r=0;r<invRows;r++) for(let c=0;c<invCols;c++) invaders.push({x:60+c*90,y:30+r*48,w:40,h:30,alive:true});
  function update(){
    let shift=false;
    for(const inv of invaders){ if(!inv.alive) continue; inv.x += invDir*0.6; if(inv.x < 10 || inv.x > canvas.width-60) shift=true; }
    if(shift){ invDir *= -1; for(const inv of invaders) inv.y += 18; }
    bullets.forEach(b=> b.y -= 6);
    bullets = bullets.filter(b=>{
      for(const inv of invaders){
        if(!inv.alive) continue;
        if(b.x > inv.x && b.x < inv.x + inv.w && b.y > inv.y && b.y < inv.y + inv.h){ inv.alive=false; return false; }
      }
      return b.y > -10;
    });
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle='#fff'; ctx.fillRect(ship.x,ship.y,ship.w,ship.h);
    ctx.fillStyle='#ffdd57'; bullets.forEach(b=> ctx.fillRect(b.x-2,b.y-8,4,10));
    for(const inv of invaders) if(inv.alive){ ctx.fillStyle='#66f'; ctx.fillRect(inv.x,inv.y,inv.w,inv.h); }
  }
  let raf;
  function loop(){ update(); draw(); raf=requestAnimationFrame(loop); }
  function shoot(){ bullets.push({x:ship.x+ship.w/2,y:ship.y-10}); }
  document.addEventListener('keydown', e=>{
    if(e.key==='ArrowLeft') ship.x -= 12;
    if(e.key==='ArrowRight') ship.x += 12;
    if(e.code==='Space') shoot();
  });
  document.getElementById('restart').addEventListener('click', ()=>{ cancelAnimationFrame(raf); invaders = []; for(let r=0;r<invRows;r++) for(let c=0;c<invCols;c++) invaders.push({x:60+c*90,y:30+r*48,w:40,h:30,alive:true}); bullets=[]; loop(); });
  loop();
})();
</script>
</body>
</html>
